---
---
<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>{{ page.title }}</title>	

    <link href="/assets/static/styles/jquery.mobile-1.4.5.css" rel="stylesheet" type="text/css"> 
    <link href="/assets/static/styles/app.css" rel="stylesheet" type="text/css">
<link rel="manifest" href="/manifest.json">
  </head>

  <body>

    <div class="wrapper">
      <section class="top-display">
      <header>
        <!-- <h1>VoxForge - {{ site.supportedLanguages[page.language_id] }} </h1> -->
        <h1>VoxForge Speech Submission</h1>
      </header>

      <div id="upload_status_display" border-style: solid;>
      </div>

      <button style="display: none;" 
              id="profile-button-display" 
              style="background: #cedfe8;" 
              onclick="view.profileInfo()">{{ page.profile_info }}</button>

        <!-- https://learn.jquery.com/using-jquery-core/selecting-elements/ -->
	    <div id="profile-display">
	      <div class="readme">

          <label for="username">{{ page.username_label }}</label>
          <input id="username" 
                 placeholder="{{ page.username_label }}" value="" 
                 type="text">
          <div id=anonymous_instructions_display>
            <small>{{ page.anonymous_submission }}</small><br><br>
          </div>
      <button style="background: #cedfe8;" onclick="view.speakerCharacteristics()">{{ page.speaker_characteristics }}</button>
	    <div style="display: none;" id="speaker_characteristics_display">
          <label for="gender">{{ page.gender.label }}</label>
          <select name="gender" id="gender">
            <option selected value="Unknown">{{ page.please_select }}</option>
            {% for item in page.gender.selection %}
              <option value="{{ item }}">{{ item }}</option>    
            {% endfor %}
          </select>

          <label for="age">{{ page.age.label }}</label>
          <select type="text" id="age">
            <option selected value="Unknown">{{ page.please_select }}</option>
            {% for item in page.age.selection %}
              <option old_value="{{ item.old_value }}" value="{{ item.value }}">{{ item.value }}</option> 
            {% endfor %}

          </select>

          <label style="display: inline;"  for="native_speaker">{{ page.native_speaker.label }}</label>
          <a href="#native_speaker_popupInfo" data-rel="popup" data-transition="pop" 
             class="my-tooltip-btn ui-btn ui-alt-icon ui-nodisc-icon ui-btn-inline ui-icon-info ui-btn-icon-notext" 
             title="{{ page.native_speaker.popup_text }}">
          </a>
          <div data-role="popup" id="native_speaker_popupInfo" class="ui-content" data-theme="a" style="max-width:350px;">
            <p><a href="{{ page.native_speaker.popup_link }}" target="_blank">{{ page.native_speaker.label }}</a>: {{ page.native_speaker.popup_text }}</p>
          </div>
          <select type="text" id="native_speaker">
            <option selected value="Unknown">{{ page.please_select }}</option>
            {% for item in page.native_speaker.selection %}
              <option value="{{ item }}">{{ item }}</option>
            {% endfor %}
          </select>

            <div style="display: none;"  id="first_language_display">

              <label style="display: inline;"  for="first_language">{{ page.first_language.label }}</label>
              <a href="#first_language_popupInfo" data-rel="popup" data-transition="pop" 
                 class="my-tooltip-btn ui-btn ui-alt-icon ui-nodisc-icon ui-btn-inline ui-icon-info ui-btn-icon-notext" 
                 title="{{ page.first_language.popup_text }}">
              </a>
              <div data-role="popup" id="first_language_popupInfo" class="ui-content" data-theme="a" style="max-width:350px;">
                <p><a href="{{ page.first_language.popup_link }}" target="_blank">{{ page.first_language.label }}</a>: {{ page.first_language.popup_text }}</p>
              </div>
          <div class="other">
              <select type="text" id="first_language">
              </select>
              <div style="display: none;"  id="first_language_other_display">
                <input id="first_language_other" 
                   placeholder="{{ page.first_language.other_label }}" value="" 
                   type="text">
              </div><!--first_language_other_display-->
          </div><!--other-->
            </div><!--first_language_display-->

          <div style="display: none;"  id="dialect_display">
	            <label style="display: inline;"  for="dialect">{{ page.dialect.label }}</label>
              <a href="#dialect_popupInfo" data-rel="popup" data-transition="pop" 
                class="my-tooltip-btn ui-btn ui-alt-icon ui-nodisc-icon ui-btn-inline ui-icon-info ui-btn-icon-notext" 
                title="{{ page.dialect.text }}">
              </a>
              <div data-role="popup" id="dialect_popupInfo" class="ui-content" data-theme="a" style="max-width:350px;">
                <p><a href="{{ page.dialect.popup_link }}" target="_blank">{{ page.dialect.label }}</a>: {{ page.dialect.popup_text }}</p>
              </div>
              <div id=dialect_display>
                <div class="other">
                  <select id="dialect">
                    <option selected value="Unknown">{{ page.please_select }}</option>
                    {% for region in page.dialect.selection %}
                      <optgroup label=" {{ region[0] }}">
                      {% for dialect in region[1] %}
                        <option value="{{ dialect }}">{{ dialect }}</option>
                      {% endfor %}
                    {% endfor %}
                  </select>

                  <div style="display: none;"  id="dialect_other_display">
                    <input id="dialect_other" 
                       placeholder="{{ page.dialect.other_label }}" value="" 
                       type="text">
                  </div><!-- dialect_other_display -->
                </div><!--other-->
              </div> <!-- dialect_display -->


              <div style="display: none;" id=sub_dialect_display>
	              <label style="display: inline;"  for="sub_dialect">{{ page.sub_dialect.label }}</label>
                <a href="#sub_dialect_popupInfo" data-rel="popup" data-transition="pop" 
                   class="my-tooltip-btn ui-btn ui-alt-icon ui-nodisc-icon ui-btn-inline ui-icon-info ui-btn-icon-notext" 
                   title="{{ page.popup_text.label }}">
                </a>
                <div data-role="popup" id="sub_dialect_popupInfo" 
                     class="ui-content" data-theme="a" style="max-width:350px;">
                  <p><a href="{{ page.sub_dialect.popup_link }}" 
                     target="_blank">{{ page.sub_dialect.label }}</a>: {{ page.sub_dialect.popup_text }}</p>
                </div>
                <div class="other">
                  <select id="sub_dialect">
                     <!-- firefox does not display selected correctly... Egde does... -->
                     <option selected name="American English" value="Unknown">{{ page.please_select }}</option>
                     {% for dialect in page.sub_dialect.selection_dialect %}
                       {% for region in page.sub_dialect.selection[dialect] %}
                         <optgroup name="{{ dialect }}" label=" {{ region[0] }}">
                         {% for dialect in region[1] %}
                           <option value="{{ dialect }}">{{ dialect }}</option>
                         {% endfor %}
                       {% endfor %}
                     {% endfor %}
                  </select>    
                </div><!--other-->      
              </div><!--sub_dialect_display -->
          </div><!--dialect_display -->

      </div>  <!--speaker_characteristics_display-->

    <!--#########################################################################-->
        <button style="background: #cedfe8; " onclick="view.recordingInformation()">{{ page.recording_information }}</button>
	      <div style="display: none;" id="recording_information_display">
          <label for="microphone">{{ page.microphone.label }}</label>
          <div class="other">
            <select type="text" id="microphone">
              <option selected value="Unknown">{{ page.please_select }}</option>
              {% for item in page.microphone.selection %}
                <option value="{{ item }}">{{ item }}</option>    
              {% endfor %}
             </select>
          <div style="display: none;"  id="microphone_other_display">
            <input id="microphone_other" 
               placeholder="{{ page.microphone.other_label }}" value="" 
               type="text">
          </div> <!--microphone_other_display-->
        </div> <!--other-->

        <label for="recording_location">{{ page.recording_location.label }}</label>
        <div class="other">
          <select type="text" id="recording_location">
            <option selected value="Unknown">{{ page.please_select }}</option>
              {% for item in page.recording_location.selection %}
                <option value="{{ item }}">{{ item }}</option>    
              {% endfor %}
            </select>
          <div style="display: none;"  id="recording_location_other_display">
            <input id="recording_location_other" 
               placeholder="{{ page.recording_location.other_label }}" value="" 
               type="text">
          </div><!--recording_location_other_display-->
        </div> <!--other-->
        <label for="background_noise">{{ page.background_noise.label }}</label>
        <select type="text" id="background_noise">
          <option selected value="Unknown">{{ page.please_select }}</option>
          {% for item in page.background_noise.selection %}
            <option value="{{ item }}">{{ item }}</option>
          {% endfor %}
        </select>

        <div id=background_noise_display>
          <label for="noise_volume">{{ page.noise_volume.label }}</label>
          <div class="other">
            <select type="text" id="noise_volume">
              <option selected value="Unknown">{{ page.please_select }}</option>
              {% for item in page.noise_volume.selection %}
                <option value="{{ item }}">{{ item }}</option>
              {% endfor %}
            </select>
          </div><!--other-->
          <label for="noise_type">{{ page.noise_type.label }}</label>
          <div class="other">
            <select type="text" id="noise_type">
              <option selected value="Unknown">{{ page.please_select }}</option>
              {% for item in page.noise_type.selection %}
                <option value="{{ item }}">{{ item }}</option>
              {% endfor %}
            </select>

            <div style="display: none;"  id="noise_type_other_display">
              <input id="noise_type_other" 
                 placeholder="{{ page.noise_type.other_label }}" value="" 
                 type="text">
            </div>
          </div><!--other-->
         </div> <!-- background_noise_display -->
           <label  style="display: inline;"  for="license">{{ page.license.label }}</label>
           <a href="#license_popupInfo" data-rel="popup" data-transition="pop" 
             class="my-tooltip-btn ui-btn ui-alt-icon ui-nodisc-icon ui-btn-inline ui-icon-info ui-btn-icon-notext" 
             title="{{ page.license.popup.hover_text }}">
           </a>
           <div data-role="popup" id="license_popupInfo" class="ui-content" data-theme="a" style="max-width:350px;">
            <p><a href="{{ page.license.popup.link }}" target="_blank">{{ page.license.label }}</a>: {{ page.license.popup.text }}</p>
           </div>
             <select type="text" id="license">
              <option selected value="{{ page.license.selection_default.value }}">{{ page.license.selection_default.item }}</option>
              {% for item in page.license.selection %}
                <option value="{{ item.value }}">{{ item.option }}</option>
              {% endfor %}
              </select>
<!-- !!!!!! -->
           <label  style="display: inline;"  for="ua_string"><small>{{ page.ua_string.label }}</small></label>
           <a href="#ua_string_popupInfo" data-rel="popup" data-transition="pop" 
             class="my-tooltip-btn ui-btn ui-alt-icon ui-nodisc-icon ui-btn-inline ui-icon-info ui-btn-icon-notext" 
             title="{{ page.ua_string.popup.hover_text }}">
           </a>
           <div data-role="popup" id="ua_string_popupInfo" class="ui-content" data-theme="a" style="max-width:350px;">
            <p><a href="{{ page.ua_string.popup.link }}" target="_blank">{{ page.ua_string.label }}</a>: {{ page.ua_string.popup.text }}</p>
           </div>
           <select type="text" id="ua_string">
            <option selected value="{{ page.ua_string.selection_default.value }}">{{ page.ua_string.selection_default.item }}</option>
            {% for item in page.ua_string.selection %}
              <option value="{{ item.value }}">{{ item.option }}</option>
            {% endfor %}
            </select>

<!-- !!!!!! -->
	       </div> <!-- recording_information_display -->
	     </div><!-- readme -->
	   </div> <!-- profile-display -->

        <br>


 <!-- <label for="max_num_prompts_disp">{{ page.num_prompts.label }}</label>
    <select type="number" id="max_num_prompts_disp">
        <option selected value="10">10</option>
        <option value="15">15</option>
        <option value="20">20</option>
        <option value="25">25</option>
        <option value="30">30</option>
        <option value="35">35</option>
        <option value="40">40</option>
        <option value="45">45</option>
        <option value="50">50</option>
      </select>
 -->
      <label for="max_num_prompts">{{ page.num_prompts.label }}</label>
      <select type="text" id="max_num_prompts">
      </select>
      <button style="display: none;" 
              id="directions-button-display" 
              style="background: #cedfe8;" 
              onclick="view.directionsInfo()">{{ page.instructions.label }}</button>
      <div id="directions-display">
        {% for line in page.instructions.lines %}
            {{ line }} <br>
        {% endfor %}
        {{ page.instructions.lastline }}
      </div>

      <div class="progress-display">
      </div>
      <div class="info-display">
      </div>
      <div class="prompt_id" style="display: none;">
      </div>
      </section> <!-- top-display -->

      <section class="main-controls">
        <canvas class="visualizer"></canvas>
        <div id="buttons">
          <button class="record">{{ page.controls.record }}</button>
          <button class="stop">{{ page.controls.stop }}</button>
          <button class="upload">{{ page.controls.upload }}</button>
        </div>
      </section> <!-- main-controls -->

      <!-- dummy 'delete_clicked' div that is triggered by clicking any one
      delete buttons of a recorded prompt -->
      <div id="delete_clicked">
      </div>

      <section class="sound-clips">
        
        <!-- This is left here as a helper for testing the style of the clips
        If you want to edit their appearance without having to record clips,
        uncomment this and reload the page. Remember to comment it again when done!
        <article class="clip">
          <audio controls></audio>
          <p>Sample clip name</p>
          <button class="delete">Delete</button>
        </article>
        -->

      </section>

    </div>
    <div id="read-page-variables">
      {{ content }}
    </div>



<!--     TODO package and minify
         see: http://ixti.net/software/2012/12/30/unleash-mr-hyde-introduction-of-jekyll-assets.html
-->
    <script src="/assets/static/lib/jquery-1.12.4.js"></script>
    <script src="/assets/static/lib/jquery.mobile-1.4.5.js"></script> 
    <script src="/assets/static/lib/jszip.js"></script>
    <script src="/assets/static/lib/wavesurfer.js"></script>
    <script src="/assets/static/lib/platform.js"></script>
    <script src="/assets/static/lib/languages.js"></script>
    <script src="/assets/static/lib/visualize.js"></script>
    <script src="/assets/static/lib/localforage.js"></script>

<!-- to address Firefox on windows error of:"unable to cache asm.js in synchronous scripts" -->
    <script async src="/assets/static/lib/webrtc_vad.js"></script>

    <script src="/assets/static/lib/state-machine.js"></script>
<!--
    <script src="/assets/static/lib/state-machine-visualize.js"></script>
-->
    <script src="/assets/static/scripts/Audio.js"></script>
    <script src="/assets/static/scripts/processSavedSubmissions.js"></script>
    <script src="/assets/static/scripts/Profile.js"></script>
    <script src="/assets/static/scripts/Prompts.js"></script>
    <script src="/assets/static/scripts/upload.js"></script>
    <script src="/assets/static/scripts/View.js"></script>
    <script src="/assets/static/scripts/Controller.js"></script>
    <script src="/assets/static/scripts/app.js"></script>
  </body>
</html>
